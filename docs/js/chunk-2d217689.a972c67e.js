(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217689"],{c732:function(a,t,e){"use strict";e.r(t);var n=e("8336"),i=e("b0afa"),r=e("99d9"),o=e("12b2"),s=e("169a"),l=e("ce7e"),c=e("132d"),d=e("8860"),u=e("ba95"),p=e("5d23"),v=e("490a"),f=e("9910"),h=function(){var a=this,t=a._self._c;return t("div",{staticClass:"text-xs-center"},[t(s["a"],{attrs:{width:"500"},scopedSlots:a._u([{key:"activator",fn:function(e){var i=e.on;return[t(n["a"],a._g({staticClass:"ma-0 pa-0",staticStyle:{width:"100%"},attrs:{depressed:""}},i),[a._v("\n        Anexos\n      ")])]}}]),model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[t("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:a.addUpload}}),t(i["a"],[t(o["a"],{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[a._v("\n        Anexos\n        "),t(f["a"]),t(n["a"],{attrs:{loading:a.loading},on:{click:function(t){return a.$refs.file.click()}}},[a._v("\n          Novo arquivo\n        ")])],1),t(r["b"],[a.arquivos.length>0?t(d["a"],a._l(a.arquivos,(function(e){return t(u["a"],{key:e._id},[t(p["a"],[t("div",[a.loadingDownload===e._id?t(v["a"],{attrs:{indeterminate:"",size:"20",color:"blue"}}):t(c["a"],{staticClass:"mx-0",attrs:{left:""},on:{click:function(t){return a.downloadArquivo(e)}}},[a._v("\n                  download_for_offline\n                ")]),a._v("\n                "+a._s(e.nome)+"\n              ")],1)]),t(p["a"],[t("span",{staticStyle:{width:"100%","text-align":"right"}},[a._v("\n                "+a._s(a._f("bytes2human")(e.tamanho))+"\n              ")])])],1)})),1):t("h5",[a._v("\n          Não há anexos\n        ")])],1),t(l["a"]),t(r["a"],[t(f["a"]),t(n["a"],{attrs:{color:"primary",flat:""},on:{click:function(t){a.dialog=!1}}},[a._v("\n          Fechar\n        ")])],1)],1)],1)],1)},g=[],w=(e("96cf"),e("3b8d")),m=e("365c"),_=e("81f6"),b={props:{arquivos:{type:Array,default:function(){return[]}},idMovimentacao:{type:String,default:""}},data:function(){return{loadingDownload:null,dialog:!1,loading:!1}},methods:{addUpload:function(){var a=Object(w["a"])(regeneratorRuntime.mark((function a(t){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(this.loading=!0,e=t.target.files[0],t){a.next=4;break}return a.abrupt("return",window.getApp.$emit("APP_GENERIC_WARNING","Nenhum arquivo selecionado"));case 4:return a.prev=4,a.next=7,m["a"].Upload.addUpload(e,this.idMovimentacao);case 7:n=a.sent,window.getApp.$emit("APP_GENERIC_SUCCESS","Arquivo enviado com sucesso!"),_["a"].$emit("atualizar-movimentacao",{key:"arquivos",value:n}),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](4),window.getApp.$emit("APP_GENERIC_WARNING",a.t0);case 15:return a.prev=15,this.loading=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,this,[[4,12,15,18]])})));function t(t){return a.apply(this,arguments)}return t}(),downloadArquivo:function(){var a=Object(w["a"])(regeneratorRuntime.mark((function a(t){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return this.loadingDownload=t._id,a.prev=1,a.next=4,m["a"].Upload.download(t);case 4:a.next=11;break;case 6:a.prev=6,a.t0=a["catch"](1),e=a.t0,a.t0.response.data.message&&(e=a.t0.response.data.message),window.getApp.$emit("APP_GENERIC_WARNING",e);case 11:return a.prev=11,this.loadingDownload=null,a.finish(11);case 14:case"end":return a.stop()}}),a,this,[[1,6,11,14]])})));function t(t){return a.apply(this,arguments)}return t}()}},y=b,A=e("2877"),k=Object(A["a"])(y,h,g,!1,null,null,null);t["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2d217689.a972c67e.js.map